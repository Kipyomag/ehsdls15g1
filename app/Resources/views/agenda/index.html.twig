{% extends 'base.html.twig' %}

{% block title %}Liste des évènements{% endblock %}

{% block body %}
     <div class="jumbotron">
        <h1>Evènements à venir</h1>
            <table class="table table-striped">
                <thead>
                    <tr>
                    {% if is_granted('ROLE_ADMIN') %}
                        <th></th>
                    {% endif %}
                        <th>Début</th>
                        <th>Fin</th>
                        <th>Ville</th>
                        <th>Titre</th>
                        <th>Inscription</th>
                        <th>Nombre de place</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                {% for agenda in agendas %}
                    <tr>
                        {% if is_granted('ROLE_ADMIN') %}
                        <td><a type="button" class="btn btn-warning btn-xs" href="{{ path('agenda_edit', { 'id': agenda.id }) }}">Editer</a></td>
                        {% endif %}
                        <td>{% if agenda.startingDate %}{{ agenda.startingDate|date('d-m-Y H:i:s') }}{% endif %}</td>
                        <td>{% if agenda.endingDate %}{{ agenda.endingDate|date('d-m-Y H:i:s') }}{% endif %}</td>
                        <td>{{ agenda.city }}</td>
                        <td>{{ agenda.title }}</td>
                        <td>{% if agenda.login < 1 %}Non{% elseif agenda.login > 0 %}Oui{% endif %}</td>
                        <td>{% if agenda.login < 1 %}N/A{% else %}{{ agenda.loginNumber }}{% endif %}</td>
                        <td>
                            <a class="btn btn-primary btn-sm" href="{{ path('agenda_show', { 'id': agenda.id }) }}">Voir</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            {% if is_granted('ROLE_ADMIN') %}
                <ul>
                    <li>
                        <a href="{{ path('agenda_new') }}">Ajouter un évènement</a>
                    </li>
                </ul>
            {% endif %}
        </div>
{% endblock %}
